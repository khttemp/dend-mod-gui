# SMF


## 実行方法

![title](image/title.png)

メニュの「ファイルの開く」で指定のSMFファイルを開く。

必ず、プログラムが書込みできる場所で行ってください

今は、SMFの階層を見たり、

詳しい情報をテキストファイルで書込んだり、

下記の機能しか出来ない。

## フレームに関する機能

### 選択したフレームをコピペする

文字通り、選択したフレームをコピペする。

### フレームを消す

選択したフレームを消す。

もしメッシュまで指定している場合、そのメッシュも消される。

指定した要素の全ての子要素にも影響が及ぶので注意すること。

### フレームの情報を修正する

選択したフレームの名称、位置情報、回転情報を修正できる。

### フレームの位置を入れ替える

フレームを指定要素の「子要素」に移す。

## メッシュに関する機能

この昨日は、メッシュを指定しているフレームを選択した場合、活性化される。

### 選択したメッシュを180度回転

メッシュを垂直方向基準（ゲームのY軸）で、180度回転する。

### 選択したメッシュを入れ替える

メッシュを入れ替えることが出来る。

SMFファイルを読込ませると、SMFのメッシュの中で１つを

FBXファイルを読込ませると、認識したメッシュの中で１つを入れ替えることができる。

## その他の機能

### 標準軌を作成する

CS専用の標準軌モデルとRSの狭軌モデルを使って

RS専用の標準軌を作成する。

詳しくは、[【こちら】](STANDARD.md)を参照。

### SMFを別の3dファイルで出力

現在、下記の形式で出力できる。

 * fbxファイル
 * glbファイル
 * xファイル

ただし、glb、xファイルで出力されたモデルは

「ボーン要素」がないので注意

### Frameの座標情報（x, y, z）

指定したFrameの、座標情報（position）を表示する

### Frameの回転情報（x, y, z）

指定したFrameの、回転情報（Euler Angle）を表示する

ただし、yの情報がほぼ90度の場合

行列の仕様によって、xとzが不正確な値になるため注意すること。

### SMFファイルリストで イメージファイル検索

指定した複数のSMFファイルを分析して、

SMFで使われるテクスチャーが、SMFがあるフォルダーに

存在するかチェックする。

### 上記のパスに、イメージファイルをコピーするフォルダー指定

SMFファイルリストで分析した結果、

フォルダーに存在しないテクスチャーがある場合、

テクスチャーがあるフォルダーを指定して、コピーすることが出来る。

### FAQ


* Q. 電車でDのゲームがあるが、指定したSMFファイルがない。  

  * A. PackファイルをGARbro のような、アーカイバで展開すると得られる。

  * A. GARbro を使用して空パスワードで解凍すると無効なファイルになるので、適切なパスワードを入力すること。


* Q. SMFファイルを指定しても、「電車でDのSMFではない、またはファイルが壊れた可能性があります。」と言われる

  * A. 抽出方法が間違っているか、抽出時のパスワードが間違っているのでは？作業工程をやり直した方がよい。

* Q. SMFファイルを改造しても、変化がないけど？

  * A. 既存のPackファイルとフォルダーが同時にあるなら、Packファイルを優先して読み込んでいる可能性がある。

    読み込みしないように、抽出したPackファイルを変更するか消そう。

* Q. ダウンロードがブロックされる、実行がブロックされる、セキュリティソフトに削除される

  * A. ソフトウェア署名などを行っていないので、ブラウザによってはダウンロードがブロックされる

  * A. 同様の理由でセキュリティソフトが実行を拒否することもある。

* Q. SSのFBXを移植する方法は？

  * A. [【こちら】](FBX.md)のリンクを参照

以上。